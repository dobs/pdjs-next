var PagerDuty;PagerDuty=(()=>{"use strict";var e={337:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t,n=r.params,u=r.timeout,c=i(r,["params","timeout"]);return e=a(e=new URL(e.toString()),n),t=f(t,u),fetch(e.toString(),o(o({},c),{},{headers:new Headers(o({"Content-Type":"application/json; charset=utf-8"},c.headers))}))}function a(e,t){if(!t)return e;for(var r=e.searchParams,n=0,o=Object.keys(t);n<o.length;n++){var u=o[n];r.append(u,t[u])}return e.search=r.toString(),e}function f(e,t){if(!t)return e;var r=new AbortController;return setTimeout((function(){return r.abort()}),t),o(o({},e),{},{signal:r.signal})}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){if(!e.res&&!e.url)return function(e){var t=e,r=function(e){return b(p(p({},t),e))},n=function(e){return function(r,n){return b(p(p({res:r,method:e},t),n))}};return r.get=n("get"),r.post=n("post"),r.put=n("put"),r.patch=n("patch"),r.delete=n("delete"),r.all=function(e){return O(e)},r}(e);var t,r,n,o=e,u=o.res,i=o.server,c=void 0===i?"api.pagerduty.com":i,a=o.token,f=o.url,s=o.version,l=void 0===s?2:s,y=o.data,v=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(o,["res","server","token","url","version","data"]),g=p(p({method:"GET"},v),{},{headers:p({Accept:"application/vnd.pagerduty+json;version=".concat(l),Authorization:"Token token=".concat(a)},v.headers)});return r=g.method,["PUT","POST","DELETE","PATCH"].includes(null!==(n=r.toUpperCase())&&void 0!==n?n:"GET")?g.body=JSON.stringify(y):g.params=null!==(t=g.params)&&void 0!==t?t:y,d(null!=f?f:"https://".concat(c,"/").concat(u.replace(/^\/+/,"")),g)}function O(e){return b(e).then((function(e){return v([e])}))}function v(e){var t=e[e.length-1];return t.next?t.next().then((function(t){return v(e.concat([t]))})):Promise.resolve(e)}function d(e,t){return c(e,t).then((function(r){var n=r;return r.json().then((function(r){return n.next=function(e,t,r){if((null==r?void 0:r.more)&&void 0!==s(r.offset)&&r.limit)return function(){return d(e,p(p({},t),{},{params:p(p({},t.params),{},{limit:r.limit,offset:r.limit+r.offset})}))}}(e,t,r),n.data=r,n}))}))}function g(e,t,r,n,o,u,i){try{var c=e[u](i),a=c.value}catch(e){return void r(e)}c.done?t(a):Promise.resolve(a).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var u=e.apply(t,r);function i(e){g(u,n,o,i,c,"next",e)}function c(e){g(u,n,o,i,c,"throw",e)}i(void 0)}))}}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){P(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},u=Object.keys(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function S(e){var t=e.server,r=void 0===t?"events.pagerduty.com":t,n=e.data,o=w(e,["server","data"]);return A(k(e)?"https://".concat(r,"/generic/2010-04-15/create_event.json"):"https://".concat(r,"/v2/enqueue"),h({method:"POST",body:JSON.stringify(n)},o))}function x(e){var t=e.server,r=void 0===t?"events.pagerduty.com":t,n=e.data,o=w(e,["server","data"]);return A("https://".concat(r,"/v2/change/enqueue"),h({method:"POST",body:JSON.stringify(n)},o))}function k(e){return void 0!==e.data.service_key}r.r(t),r.d(t,{acknowledge:()=>T,all:()=>O,api:()=>b,change:()=>x,event:()=>S,resolve:()=>_,trigger:()=>E});var D=function(e){return function(t){var r;if(k(t))r="event_type";else{if(!function(e){return void 0!==e.data.routing_key}(t))return Promise.reject("Unrecognized event type.");r="event_action"}return S(h(h({},t),{},{data:h(h({},t.data),{},P({},r,e))}))}},E=D("trigger"),T=D("acknowledge"),_=D("resolve");function A(e,t){return C.apply(this,arguments)}function C(){return(C=m(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t,r);case 2:return n=e.sent,e.next=5,n.json();case 5:return n.data=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(337)})();
//# sourceMappingURL=pdjs.js.map