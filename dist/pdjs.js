var PagerDuty;PagerDuty=(()=>{"use strict";var e={818:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="undefined"!=typeof window&&void 0!==window.document,o="object"===("undefined"==typeof self?"undefined":n(self))&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,i="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;t.isBrowser=r,t.isWebWorker=o,t.isNode=i,t.isJsDom=function(){return"undefined"!=typeof window&&"nodejs"===window.name||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}},194:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.all=t.api=void 0;const r=n(849);function o(e){var t,n,r;if(!e.res&&!e.url){const t=e,n=e=>o({...t,...e}),r=e=>(n,r)=>o({res:n,method:e,...t,...r});return n.get=r("get"),n.post=r("post"),n.put=r("put"),n.patch=r("patch"),n.delete=r("delete"),n.all=e=>i(e),n}const{res:s,server:u="api.pagerduty.com",token:c,url:d,version:l=2,data:f,...p}=e,v={method:"GET",...p,headers:{Accept:"application/vnd.pagerduty+json;version="+l,Authorization:"Token token="+c,...p.headers}};return["PUT","POST","DELETE","PATCH"].includes(null!==(n=null===(t=v.method)||void 0===t?void 0:t.toUpperCase())&&void 0!==n?n:"GET")?v.body=JSON.stringify(f):v.params=null!==(r=v.params)&&void 0!==r?r:f,a(null!=d?d:`https://${u}/${s.replace(/\/+/,"")}`,v)}function i(e){return o(e).then((e=>s([e])))}function s(e){const t=e[e.length-1];return t.next?t.next().then((t=>s(e.concat([t])))):Promise.resolve(e)}function a(e,t){return r.request(e,t).then((n=>{let r=n;return n.json().then((n=>((null==n?void 0:n.more)&&void 0!==typeof n.offset&&n.limit&&(r.next=()=>a(e,{...t,params:{...t.params,limit:n.limit,offset:n.limit+n.offset}})),r.data=n,r)))}))}t.api=o,t.all=i},849:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.request=void 0;const r=n(818);t.request=function(e,t={}){const{params:n,timeout:o,...i}=t;return e=function(e,t){if(!t)return e;const n=e.searchParams;for(const e of Object.keys(t))n.append(e,t[e]);return e.search=n.toString(),e}(e=new URL(e.toString()),n),t=function(e,t){if(!t)return e;const n=new AbortController;return setTimeout((()=>n.abort()),t),{...e,signal:n.signal}}(t,o),fetch(e.toString(),{...i,headers:new Headers({"Content-Type":"application/json; charset=utf-8",...r.isBrowser?{}:{"User-Agent":`pdjs-next/0.0.1 (${process.version}/${process.platform})`},...i.headers})})}},439:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=t.acknowledge=t.trigger=t.change=t.event=void 0;const r=n(849);function o(e){const{server:t="events.pagerduty.com",data:n,...r}=e;return a(i(e)?`https://${t}/generic/2010-04-15/create_event.json`:`https://${t}/v2/enqueue`,{method:"POST",body:JSON.stringify(n),...r})}function i(e){return void 0!==e.data.service_key}t.event=o,t.change=function(e){const{server:t="events.pagerduty.com",data:n,...r}=e;return a(`https://${t}/v2/change/enqueue`,{method:"POST",body:JSON.stringify(n),...r})};const s=e=>t=>{let n;if(i(t))n="event_type";else{if(!function(e){return void 0!==e.data.routing_key}(t))return Promise.reject("Unrecognized event type.");n="event_action"}return o({...t,data:{...t.data,[n]:e}})};async function a(e,t){const n=await r.request(e,t);return n.data=await n.json(),n}t.trigger=s("trigger"),t.acknowledge=s("acknowledge"),t.resolve=s("resolve")},273:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=t.acknowledge=t.trigger=t.change=t.event=t.api=t.all=void 0;var r=n(194);Object.defineProperty(t,"all",{enumerable:!0,get:function(){return r.all}}),Object.defineProperty(t,"api",{enumerable:!0,get:function(){return r.api}});var o=n(439);Object.defineProperty(t,"event",{enumerable:!0,get:function(){return o.event}}),Object.defineProperty(t,"change",{enumerable:!0,get:function(){return o.change}}),Object.defineProperty(t,"trigger",{enumerable:!0,get:function(){return o.trigger}}),Object.defineProperty(t,"acknowledge",{enumerable:!0,get:function(){return o.acknowledge}}),Object.defineProperty(t,"resolve",{enumerable:!0,get:function(){return o.resolve}})}},t={};return function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(273)})();
//# sourceMappingURL=pdjs.js.map