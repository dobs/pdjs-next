var PagerDuty;PagerDuty=(()=>{"use strict";var e={337:(e,t,r)=>{r.r(t),r.d(t,{acknowledge:()=>_,all:()=>O,api:()=>d,change:()=>D,event:()=>k,resolve:()=>A,trigger:()=>U});var n=r(818);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t,n=r.params,o=r.timeout,u=i(r,["params","timeout"]);return e=s(e=new URL(e.toString()),n),t=p(t,o),fetch(e.toString(),c(c({},u),{},{headers:new Headers(c(c({"Content-Type":"application/json; charset=utf-8"},f()),u.headers))}))}function f(){return n.jU?{}:{"User-Agent":"pdjs-next/".concat("0.0.1"," (").concat(process.version,"/").concat(process.platform,")")}}function s(e,t){if(!t)return e;for(var r=e.searchParams,n=0,o=Object.keys(t);n<o.length;n++){var c=o[n];r.append(c,t[c])}return e.search=r.toString(),e}function p(e,t){if(!t)return e;var r=new AbortController;return setTimeout((function(){return r.abort()}),t),c(c({},e),{},{signal:r.signal})}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){if(!e.res&&!e.url)return function(e){var t=e,r=function(e){return d(b(b({},t),e))},n=function(e){return function(r,n){return d(b(b({res:r,method:e},t),n))}};return r.get=n("get"),r.post=n("post"),r.put=n("put"),r.patch=n("patch"),r.delete=n("delete"),r.all=function(e){return O(e)},r}(e);var t,r,n,o=e,c=o.res,u=o.server,i=void 0===u?"api.pagerduty.com":u,a=o.token,f=o.url,s=o.version,p=void 0===s?2:s,l=o.data,y=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(o,["res","server","token","url","version","data"]),v=b(b({method:"GET"},y),{},{headers:b({Accept:"application/vnd.pagerduty+json;version=".concat(p),Authorization:"Token token=".concat(a)},y.headers)});return r=v.method,["PUT","POST","DELETE","PATCH"].includes(null!==(n=r.toUpperCase())&&void 0!==n?n:"GET")?v.body=JSON.stringify(l):v.params=null!==(t=v.params)&&void 0!==t?t:l,m(null!=f?f:"https://".concat(i,"/").concat(c.replace(/^\/+/,"")),v)}function O(e){return d(e).then((function(e){return g([e])}))}function g(e){var t=e[e.length-1];return t.next?t.next().then((function(t){return g(e.concat([t]))})):Promise.resolve(e)}function m(e,t){return a(e,t).then((function(r){var n=r;return r.json().then((function(r){return n.next=function(e,t,r){if((null==r?void 0:r.more)&&void 0!==l(r.offset)&&r.limit)return function(){return m(e,b(b({},t),{},{params:b(b({},t.params),{},{limit:r.limit,offset:r.limit+r.offset})}))}}(e,t,r),n.data=r,n}))}))}function j(e,t,r,n,o,c,u){try{var i=e[c](u),a=i.value}catch(e){return void r(e)}i.done?t(a):Promise.resolve(a).then(n,o)}function h(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var c=e.apply(t,r);function u(e){j(c,n,o,u,i,"next",e)}function i(e){j(c,n,o,u,i,"throw",e)}u(void 0)}))}}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function k(e){var t=e.server,r=void 0===t?"events.pagerduty.com":t,n=e.data,o=x(e,["server","data"]);return C(E(e)?"https://".concat(r,"/generic/2010-04-15/create_event.json"):"https://".concat(r,"/v2/enqueue"),w({method:"POST",body:JSON.stringify(n)},o))}function D(e){var t=e.server,r=void 0===t?"events.pagerduty.com":t,n=e.data,o=x(e,["server","data"]);return C("https://".concat(r,"/v2/change/enqueue"),w({method:"POST",body:JSON.stringify(n)},o))}function E(e){return void 0!==e.data.service_key}var T=function(e){return function(t){var r;if(E(t))r="event_type";else{if(!function(e){return void 0!==e.data.routing_key}(t))return Promise.reject("Unrecognized event type.");r="event_action"}return k(w(w({},t),{},{data:w(w({},t.data),{},S({},r,e))}))}},U=T("trigger"),_=T("acknowledge"),A=T("resolve");function C(e,t){return I.apply(this,arguments)}function I(){return(I=h(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t,r);case 2:return n=e.sent,e.next=5,n.json();case 5:return n.data=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},818:(e,t)=>{var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n="undefined"!=typeof window&&void 0!==window.document;"object"===("undefined"==typeof self?"undefined":r(self))&&self.constructor&&self.constructor.name,"undefined"!=typeof process&&null!=process.versions&&process.versions.node;t.jU=n}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}return r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(337)})();
//# sourceMappingURL=pdjs.js.map